!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.kinka=t():e.kinka=t()}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=1)}([function(e,t){function n(e){return e&&"object"==typeof e}e.exports={merge:function e(){for(var t={},r=Array.prototype.slice.call(arguments),o=0;o<r.length;o++)if(n(r[o]))for(var i in r[o]){var s=r[o][i];t[i]=n(s)?e(t[i],s):s}return t},isObject:n,parseJSON:function(e){try{return JSON.parse(e)}catch(t){return e}},isUndefined:function(e,t){return void 0===e?t:e}}},function(e,t,n){var r=n(0),o=n(2),i=r.isUndefined;function s(e){if(!(this instanceof s))return new s(e);e||(e={});var t=e.customMethods;if(this.baseURL=i(e.baseURL,location?location.origin:""),this.options={omitCatches:i(e.omitCatches,!0),headers:i(e.headers,{}),timeout:i(e.timeout,0)},t)for(var n in t)this[t[n]]=u(t[n]);return this.inspectors=e.inspectors||{},this}function u(e,t){return function(n,r,o){var i=t?[o,r]:[r];return this.custom(e,n,i[0],i[1])}}s.prototype={abort:o.abortRequest,all:Promise.all,create:s,custom:o.createRequest,delete:u("delete"),get:u("get"),head:u("head"),options:u("options"),patch:u("patch",!0),post:u("post",!0),put:u("put",!0)},e.exports=window.kinka=new s},function(e,t,n){var r=n(0),o=n(3).createResponse,i=r.isObject,s=r.merge,u={};function a(e){u[e]&&(u[e].abort(),c(e))}function c(e){u[e]=null,delete u[e]}function f(e,t,n){var r=e.substring(0,4),o="http"===r||-1!==r.indexOf("ws")||-1!==r.indexOf("//")?e:t+e;return n?function(e,t){var n=e.split("?"),r=n[0],o=n[1]?[n[1]]:[];return Object.keys(t).forEach(function(e){o.push(e+"="+t[e])}),r+"?"+o.join("&")}(o,n):o}e.exports={createRequest:function(e,t,n,r){var p=s(this.options,n,r),d=p.abortableKey,l=p.body,h=!i(l)||l instanceof FormData?l:JSON.stringify(l),b=f(t,this.baseURL,p.query),y=d?function(e){return a(e),u[e]=new XMLHttpRequest,u[e]}(d):new XMLHttpRequest;return y.timeout=p.timeout,new Promise(function(t,n){y.withCredentials=!!p.withAuth,y.onreadystatechange=function(){if(y.readyState===XMLHttpRequest.DONE){var e=!function(e,t){var n=e.status;return t?n===t:n>=200&&n<300||101===n}(y,p.successStatus),r=o(y,e);!p.omitCatches&&e?n(r):t(r),y=null,d&&c(d)}},y.open(e.toUpperCase(),b,!0),i(p.headers)&&function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++)e.setRequestHeader(n[r],t[n[r]])}(y,p.headers),y.send(h)})},abortRequest:a}},function(e,t,n){var r=n(0).parseJSON;e.exports={createResponse:function(e,t){var n=e.responseText,o=r(n);return{data:t?void 0:o,err:t?o:void 0,headers:function(e){return e.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(e,t){var n=t.split(": ");return e[n.shift()]=n.join(": "),e},{})}(e),isError:!!t,isSuccess:!t,response:e.response,status:e.status,statusText:e.statusText,type:e.responseType}}}}])});